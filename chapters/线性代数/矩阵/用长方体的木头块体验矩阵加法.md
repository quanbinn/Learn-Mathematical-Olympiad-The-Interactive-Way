# 用长方体的木头块体验矩阵加法

## 开始做实体实验

![](/images/线性代数/矩阵/用长方体的木头块体验矩阵加法/1a1.jpg)

## 开始做代码实验

### 在线调试环境1

- 单机右方的[pythontutor](https://pythontutor.com/visualize.html#mode=edit)，稍后在浏览器里会显示Python的运行环境。
- 把下面的这段python代码拷贝到这个页面中间的空白栏中， 然后单击左下方的按键“Visualize Execution”。

### 在线调试环境2

- 单机右方的[Jupyter Notebook](https://mybinder.org/v2/gh/ipython/ipython-in-depth/master?filepath=binder/Index.ipynb)，稍后在浏览器里会显示Jupyter Notebook的运行环境。
- 在File的第一个下拉菜单“New Notebook” 的右侧箭头处选择“Python 3”，然后会显示一个新的页面
- 把下面的这段python代码拷贝到这个页面“In [ ]:”右侧的空白栏中， 然后单击上方的按键“运行”。

### 在线调试环境3

- 单机右方的[Python Online Compiler](https://www.alphacodingskills.com/compile-python-online.php)，稍后在浏览器里会显示python的运行环境。
- 把下面的这段python代码拷贝到这个页面“Run Code”下侧的深蓝色的空白栏中， 然后单击上方的按键“Run Code”。

```python
### TODO: Assign the vector <5, 10, 2, 6, 1> to the variable v
v = [5, 10, 2, 6, 1]
v

### TODO: Assign the vector <5, 10, 2, 6, 1> to the variable mv
### The difference between a vector and a matrix in Python is that
### a matrix is a list of lists.

### Hint: See the last quiz on the previous page

mv = [
    [5, 10, 2, 6, 1]
]
mv

### TODO: Assign the vector <5, 10, 2, 6, 1> to the variable vT
### vT is a 5x1 matrix
vT = [
    [5],
    [10],
    [2],
    [6],
    [1]
]
vT

### TODO: Assign the following matrix to the variable m
### 8 7 1 2 3
### 1 5 2 9 0
### 8 2 2 4 1

m = [
    [8, 7, 1, 2, 3],
    [1, 5, 2, 9, 0],
    [8, 2, 2, 4, 1]
]
m

### TODO: In matrix m, change the value 
###       in the second row last column from 0 to 5
### Hint: You do not need to rewrite the entire matrix
m[1][4] = 5
m

### TODO: Use for loops to multiply each matrix element by 5
###       Store the answer in the r variable. This is called scalar
###       multiplication
###
### HINT: First write a for loop that iterates through the rows
###       one row at a time
###
###       Then write another for loop within the for loop that
###       iterates through the columns
###
###       If you used the variable i to represent rows and j
###       to represent columns, then m[i][j] would give you
###       access to each element in the matrix
###
###       Because r is an empty list, you cannot directly assign
###       a value like r[i][j] = m[i][j]. You might have to
###       work on one row at a time and then use r.append(row).
r = []
for i in range(len(m)):
    row = m[i]
    new_row = [] # empty row for now
    for j in range(len(row)):
        m_ij = m[i][j]
        r_ij = 5 * m_ij
        new_row.append(r_ij)
    r.append(new_row)
r

### TODO: Write a function called matrix_print() 
###       that prints out a matrix in
###       a way that is easy to read.
###       Each element in a row should be separated by a tab
###       And each row should have its own line
###       You can test our your results with the m matrix

### HINT: You can use a for loop within a for loop
### In Python, the print() function will be useful
### print(5, '\t', end = '') will print out the integer 5, 
###    then add a tab after the 5. The end = '' makes sure that
###    the print function does not print out a new line if you do
###    not want a new line.

### Your output should look like this
### 8   7   1   2   3    
### 1   5   2   9   5 
### 8   2   2   4   1

def matrix_print(matrix):
    for i in range(len(matrix)):
        for j in range(len(matrix[0])):
            m_ij = matrix[i][j]
            print(m_ij, '\t', end="")
        print('\n') # prints a new line
    return

m = [
    [8, 7, 1, 2, 3],
    [1, 5, 2, 9, 5],
    [8, 2, 2, 4, 1]
]

matrix_print(m)

### You can run these tests to see if you have the expected
### results. If everything is correct, this cell has no output

assert v == [5, 10, 2, 6, 1]
assert mv == [
    [5, 10, 2, 6, 1]
]

assert vT == [
    [5], 
    [10], 
    [2], 
    [6], 
    [1]]

assert m == [
    [8, 7, 1, 2, 3], 
    [1, 5, 2, 9, 5], 
    [8, 2, 2, 4, 1]
]

assert r == [
    [40, 35, 5, 10, 15], 
    [5, 25, 10, 45, 25], 
    [40, 10, 10, 20, 5]
]

### Run this cell to print out your answers
print(v)
print(mv)
print(vT)
print(m)
print(r)
```

```python
def matrix_addition(matrixA, matrixB):
    '''
    Calculates the sum of two matrices.
    
    INPUTS:
        matrix A _ an m x n matrix
        matrix B _ an m x n matrix
    
    OUPUT:
        matrixSum _ sum of matrix A + matrix B
    '''

    # initialize matrix to hold the results
    matrixSum = []
    
    # matrix to hold a row for appending sums of each element
    row = []
    
    # For loop within a for loop to iterate over the matrices
    for r in range(len(matrixA)):
        row = [] # reset the list
        for c in range(len(matrixA[0])):
            row.append(matrixA[r][c] + matrixB[r][c]) # add the matrices
        matrixSum.append(row)
    
    return matrixSum

### When you run this code cell, your matrix addition function
### will run on the A and B matrix.

A = [
    [2,5,1], 
    [6,9,7.4], 
    [2,1,1], 
    [8,5,3], 
    [2,1,6], 
    [5,3,1]
]

B = [
    [7, 19, 5.1], 
    [6.5,9.2,7.4], 
    [2.8,1.5,12], 
    [8,5,3], 
    [2,1,6], 
    [2,33,1]
]

matrix_addition(A, B)

matrix_addition([4, 2, 1], [5, 2, 7])

matrix_addition([[4, 2, 1]], [[5, 2, 7]])

assert matrix_addition([
    [1, 2, 3]], 
    [[4, 5, 6]]) == [[5, 7, 9]]

assert matrix_addition([
    [4]], [
    [5]]) == [[9]]

assert matrix_addition([[1, 2, 3], 
                        [4, 5, 6]], 
                       [[7, 8, 9], 
                        [10, 11, 12]]) == [[8, 10, 12], 
                                           [14, 16, 18]]
```

## 参考文献及资料

1. 维基百科
	- [Matrix transpose](https://en.wikipedia.org/wiki/Transpose) 
2. [immersive linear algebra(Chapter 6: The Matrix)](http://immersivemath.com/ila/ch06_matrices/ch06.html)
3. [Coding Matrices (Solution)](https://classroom.udacity.com/courses/ud953/lessons/4632564251/concepts/b135d1f5-04e4-4e63-bed8-cf3b0a2849e9)
3. [Coding Matrix Addition (Solution)](https://classroom.udacity.com/courses/ud953/lessons/4632564251/concepts/873b4c43-91ff-40ba-885c-96e6bed65afd)
