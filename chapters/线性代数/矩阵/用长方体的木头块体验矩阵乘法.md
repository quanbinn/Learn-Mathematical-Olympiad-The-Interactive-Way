# 用长方体的木头块体验矩阵乘法

## 准备好实验工具

- 100厘米8mm*8mm手工模型木条
![](/images/线性代数/矩阵/用长方体的木头块体验矩阵乘法/8mm手工模型木条.jpg)
- 手工锯
![](/images/线性代数/矩阵/用长方体的木头块体验矩阵乘法/手工锯.jpg)

## 需要购买的试验工具及商品的地址

- [8mm*8mm手工模型木条](https://item.taobao.com/item.htm?spm=a1z09.2.0.0.7f642e8dJTGJWM&id=543446811425&_u=3c6ncud14e3)
- [手工锯](https://detail.tmall.com/item.htm?id=525869238835&spm=a1z09.2.0.0.46d82e8dlFtmf6&_u=qc6ncud3ffd)

## 开始做

### 1. 下图是来自于[immersive linear algebra](http://immersivemath.com/ila/ch05_gausselim/ch05.html)书中的一个典型的三元线性方程组。

![](/images/线性代数/矩阵/用长方体的木头块体验矩阵乘法/1a1.jpg)

上面的三元线性方程组可以写成2个矩阵相乘的形式（注意：分别有3个上面用铅笔写着（2 4 -2）,(-1 -7 2)和(0 3 -6)的小木条,和各有3个上面用铅笔写着x<sub>1</sub>,x<sub>2</sub>和x<sub>3</sub>的小木头块），如下图所示。

![](/images/线性代数/矩阵/用长方体的木头块体验矩阵乘法/1a2.jpg)

中间的计算过程如下图所示：

![](/images/线性代数/矩阵/用长方体的木头块体验矩阵乘法/1a3.jpg)

最终的计算结果如下图所示：

![](/images/线性代数/矩阵/用长方体的木头块体验矩阵乘法/1a4.jpg)

### 2.对于下图的两个二元线性方程组进行求解，得出两个矩阵相乘的结果，求解过程如下图所示。

![](/images/线性代数/矩阵/用长方体的木头块体验矩阵乘法/2a1-1.jpg)

![](/images/线性代数/矩阵/用长方体的木头块体验矩阵乘法/2a1-2.jpg)

![](/images/线性代数/矩阵/用长方体的木头块体验矩阵乘法/2a1-3.jpg)

#### 这两个矩阵相乘的求解过程如下图所示。注意：分别各有2个上面用铅笔写着（a<sub>11</sub> a<sub>12</sub>）,(a<sub>21</sub> a<sub>22</sub>)的小木条,和各有2个上面用铅笔写着b<sub>11</sub>, b<sub>21</sub>, b<sub>12</sub>,b<sub>22</sub>的小木头块。

![](/images/线性代数/矩阵/用长方体的木头块体验矩阵乘法/2a2.jpg)

中间的计算过程如下图所示：

![](/images/线性代数/矩阵/用长方体的木头块体验矩阵乘法/2a3.jpg)

![](/images/线性代数/矩阵/用长方体的木头块体验矩阵乘法/2a4.jpg)

![](/images/线性代数/矩阵/用长方体的木头块体验矩阵乘法/2a5.jpg)

![](/images/线性代数/矩阵/用长方体的木头块体验矩阵乘法/2a6.jpg)

最终的计算结果如下图所示：

![](/images/线性代数/矩阵/用长方体的木头块体验矩阵乘法/2a7.jpg)

### 3.对于下面的两个矩阵相乘的求解过程如下图所示。注意：分别有3个上面用铅笔写着（1 0 2）,(2 -1 3)和(4 -2 -3)的小木条,和各有3个上面用铅笔写着-4， 5， 6的小木头块。

![](/images/线性代数/矩阵/用长方体的木头块体验矩阵乘法/3a1.jpg)

中间的计算过程如下图所示：

![](/images/线性代数/矩阵/用长方体的木头块体验矩阵乘法/3a2.jpg)

![](/images/线性代数/矩阵/用长方体的木头块体验矩阵乘法/3a3.jpg)

最终的计算结果如下图所示：

![](/images/线性代数/矩阵/用长方体的木头块体验矩阵乘法/3a4.jpg)

### 4. 对于下面的两个矩阵相乘的求解过程如下图所示。注意：分别各有3个上面用铅笔写着（4 2）,(3 -2),(0 -1)的小木条,和各有3个上面用铅笔写着2, -1, 1, 5, 3, 8的小木头块。

![](/images/线性代数/矩阵/用长方体的木头块体验矩阵乘法/4a1.jpg)

中间的计算过程如下图所示：

![](/images/线性代数/矩阵/用长方体的木头块体验矩阵乘法/4a2.jpg)

![](/images/线性代数/矩阵/用长方体的木头块体验矩阵乘法/4a3.jpg)

![](/images/线性代数/矩阵/用长方体的木头块体验矩阵乘法/4a4.jpg)

![](/images/线性代数/矩阵/用长方体的木头块体验矩阵乘法/4a5.jpg)

![](/images/线性代数/矩阵/用长方体的木头块体验矩阵乘法/4a6.jpg)

最终的计算结果如下图所示：

![](/images/线性代数/矩阵/用长方体的木头块体验矩阵乘法/4a7.jpg)

## 开始做代码实验

### 在线调试环境1

- 单机右方的[pythontutor](https://pythontutor.com/visualize.html#mode=edit)，稍后在浏览器里会显示Python的运行环境。
- 把下面的这段python代码拷贝到这个页面中间的空白栏中， 然后单击左下方的按键“Visualize Execution”。

### 在线调试环境2

- 单机右方的[Jupyter Notebook](https://mybinder.org/v2/gh/ipython/ipython-in-depth/master?filepath=binder/Index.ipynb)，稍后在浏览器里会显示Jupyter Notebook的运行环境。
- 在File的第一个下拉菜单“New Notebook” 的右侧箭头处选择“Python 3”，然后会显示一个新的页面
- 把下面的这段python代码拷贝到这个页面“In [ ]:”右侧的空白栏中， 然后单击上方的按键“运行”。

### 在线调试环境3

- 单机右方的[Python Online Compiler](https://www.alphacodingskills.com/compile-python-online.php)，稍后在浏览器里会显示python的运行环境。
- 把下面的这段python代码拷贝到这个页面“Run Code”下侧的深蓝色的空白栏中， 然后单击上方的按键“Run Code”。

```python
def get_row(matrix, row):
    return matrix[row]

# Receives a matrix and a column number.
# The output should be the column in the form of a list
def get_column(matrix, column_number):
    column = []
    for r in range(len(matrix)):
        column.append(matrix[r][column_number])

    return column

# Run this code to test your get_column function
assert get_column([[1, 2, 4], 
                   [7, 8, 1], 
                   [5, 2, 1]], 1) == [2, 8, 2]

assert get_column([[5]], 0) == [5]

# Has two vectors as inputs and outputs the dot product of the 
# two vectors. First, it does element-wise
# multiplication and then sum the results. 

def dot_product(vector_one, vector_two):
    result = 0
    
    for i in range(len(vector_one)):
        result += vector_one[i] * vector_two[i]

    return result

# Run this cell to test your results

assert dot_product([4, 5, 1], [2, 1, 5]) == 18
assert dot_product([6], [7]) == 42

# Takes two matrices,multiplies them together and then returns
# the results.
def matrix_multiplication(matrixA, matrixB):
    
    # Store the number of rows in A and the number of columns in B.
    # This will be the size of the output matrix
    m_rows = len(matrixA)
    p_columns = len(matrixB[0])
    
    # empty list that will hold the product of AxB
    result = []

    
    # For loop within a for loop. The outside for loop will 
    # iterate through m_rows. The inside for loop will iterate 
    # through p_columns.
    for r in range(m_rows):
        # Accumulate the values of a row (reset each loop)
        row_result = []
        # Grab current A row
        rowA = get_row(matrixA, r)
        
        for c in range(p_columns):
            # Grab current B column
            colB = get_column(matrixB, c)
            # Calculate the dot product of the A row and the B column
            dot_prod = dot_product(rowA, colB)
            # And append to row_result
            row_result.append(dot_prod)
    
        # Add the row_result to the result matrix
        result.append(row_result)

    return result

# Run this code cell to test your results
assert matrix_multiplication([[5], [2]], [[5, 1]]) == [[25, 5], [10, 2]]
assert matrix_multiplication([[5, 1]], [[5], [2]]) == [[27]]
assert matrix_multiplication([[4]], [[3]]) == [[12]]
assert matrix_multiplication([[2, 1, 8, 2, 1], [5, 6, 4, 2, 1]], [[1, 7, 2], [2, 6, 3], [3, 1, 1], [1, 20, 1], [7, 4, 16]]) == [[37, 72, 33], [38, 119, 50]]
```

## 参考文献及资料

1. 维基百科
	- [Matrix](https://en.wikipedia.org/wiki/Matrix_(mathematics)) 
	- [Matrix multiplication](https://en.wikipedia.org/wiki/Matrix_multiplication) 
2. [immersive linear algebra(Chapter 6: The Matrix)](http://immersivemath.com/ila/ch06_matrices/ch06.html)
3. [Coding Matrix Multiplication (Solution)](https://classroom.udacity.com/courses/ud953/lessons/4632564251/concepts/f33a989b-a8cb-4473-94f9-3c42d06749b3)